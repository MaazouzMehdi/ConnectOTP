# ConnectOTP
This project aims to show you how to connect OpenTripPlanner and MobilityDB and to display the generated trips on Qgis. The generated trips are multi-modal and focus on means of transport obtained via GTFS data.

Requirements
------------

*   Linux (other UNIX-like systems may work, but remain untested)
*   Java >= 11
*   PostgreSQL >= 11
*   PostGIS >= 2.5
*	Python >= 3.0
	* As well as a compatible version of pip 
*   MobilityDB 1.0 ( or dev branch )
*   JSON-C
*   QGis 3.22 Białowieża and one of its module
	* Move ( https://github.com/mschoema/move )

Optional Dependencies
-----------------------
Dependencies needed for user's documentation :

* The DocBook DTD and XSL files are required for building the documentation. For Ubuntu, they are provided by the packages
`docbook` and `docbook-xsl`.
* The XML validator xmllint is required for validating the XML files of the documentation. For Ubuntu, it is provided by the
package `libxml2`.
* The XSLT processor xsltproc is required for building the documentation in HTML format. For Ubuntu, it is provided by
the package `libxslt`.
* The program dblatex is required for building the documentation in PDF format. For Ubuntu, it is provided by the package
`dblatex`.



Status
-----------------------
This project is currently under development. We are planning to release the first version this summer.


Issues 
-----------------------
Please report any [issues](https://github.com/MaazouzMehdi/ConnectOTP/issues) you may have.


Documentation
-------------

### Tutorial

You can generate the tutorial in HTML as well as PDF format. The tutorial is generated in English ( currently working to generate the manual in French as well). For this, you have to run `make_doc.sh` with appropriate options in the cmake command as follows:

*   `-html`: Generate in HTML format
*   `-pdf`: Generate in PDF format

For example, the following command generates the documentation in HTML format.
```bash
bash make_doc.sh -html
```
Note that this file is at the root of the project. Moreover you may need to use `sudo` if `make_doc.sh` causes errors.
The resulting documentation will be generated in the `doc` directory.

In addition, pregenerated version of PDF format is available :

*   [PDF](https://github.com/MaazouzMehdi/ConnectOTP/tree/main/workshop/pdf/connect-workshop.pdf)


Overview
-----------------------
Here you can see an overview of several routes generated by the OpenTripPlanner API and converted into MobilityDB format. This format allows us to visualize temporal points moving over time.

<img src="images/06.png" width="700" alt="Overview"/>

Here you can see 35 people making a trip through the city of Brussels.
(The video has been accelerated).
![trips_white](https://github.com/MaazouzMehdi/ConnectOTP/blob/main/images/35Trips.gif?raw=true)

Here you can see a person walking from point A to point B while a second person makes the same journey, at the same time, by public transport
(The video has been accelerated).
![trips_white](https://github.com/MaazouzMehdi/ConnectOTP/blob/main/images/comparisonTrip.gif?raw=true)

Here you can see a person making a trip from point A to point B.
The green dot represents the person walking.
The yellow dot represents the person waiting.
The red dot represents the person making the trip by public transport
(The video has been accelerated).

![trips_white](https://github.com/MaazouzMehdi/ConnectOTP/blob/main/images/advancedtrip.gif?raw=true)

Here you can see a lot of people making trip in Brussels.
The green dot represents people walking.
The yellow dot represents people waiting.
The red dot represents people making the trip by public transport
(The video has been accelerated).

![trips_white](https://github.com/MaazouzMehdi/ConnectOTP/blob/main/images/73advancedtrips.gif?raw=true)
